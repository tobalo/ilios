<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Ilios - Cleanse Your Dark Data for AI Readiness</title>
    <meta name="description" content="Transform unstructured documents into clean markdown for vector databases, knowledge graphs, and RAG systems. High-performance OCR powered by Mistral AI.">
    <meta name="keywords" content="OCR, markdown conversion, dark data, vector database, RAG, knowledge graph, document processing, API, Mistral AI, embeddings">
    <meta name="author" content="Ilios Project">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèõÔ∏è</text></svg>">
    
    <meta property="og:title" content="Ilios - Cleanse Your Dark Data">
    <meta property="og:description" content="Unlock trapped data in documents. Convert to markdown for vector DBs, knowledge graphs, and enhanced AI applications.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ilios.sh">
    <meta property="og:image" content="https://ilios.sh/images/ilios_og.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ilios - Dark Data to AI-Ready Markdown">
    <meta name="twitter:description" content="High-performance document conversion for modern AI infrastructure. Vector DB ready.">
    <meta name="twitter:image" content="https://ilios.sh/images/twitter.png">
    
    <link rel="canonical" href="https://ilios.sh">
    
    <style>
        :root {
            --stone: #2c2520;
            --bronze: #cd7f32;
            --marble: #f8f6f0;
            --olive: #6b7d3f;
            --shadow: rgba(44, 37, 32, 0.15);
            --serif: 'Palatino Linotype', 'Book Antiqua', Palatino, Georgia, serif;
            --sans: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--sans);
            background: var(--marble);
            color: var(--stone);
            line-height: 1.7;
            font-size: 16px;
        }
        
        .consultation-banner {
            background: linear-gradient(135deg, var(--olive) 0%, #556330 100%);
            color: var(--marble);
            padding: 1rem 2rem;
            text-align: center;
            border-bottom: 2px solid var(--bronze);
        }
        
        .banner-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .banner-text {
            font-size: 1rem;
            opacity: 0.95;
        }
        
        .banner-cta {
            background: var(--bronze);
            color: var(--marble);
            padding: 0.5rem 1.5rem;
            text-decoration: none;
            font-weight: 600;
            border-radius: 2px;
            transition: all 0.3s ease;
            letter-spacing: 0.05em;
        }
        
        .banner-cta:hover {
            background: #b87030;
            transform: translateY(-1px);
        }
        
        .banner-divider {
            opacity: 0.7;
            font-style: italic;
        }
        
        .banner-link {
            color: var(--marble);
            text-decoration: underline;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }
        
        .banner-link:hover {
            opacity: 0.8;
        }
        
        header {
            background: linear-gradient(135deg, var(--stone) 0%, #3d342e 100%);
            color: var(--marble);
            padding: 3rem 2rem;
            text-align: center;
            border-bottom: 4px solid var(--bronze);
            box-shadow: 0 2px 12px var(--shadow);
        }
        
        h1 {
            font-family: var(--serif);
            font-size: 3.5rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-style: italic;
            letter-spacing: 0.05em;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        section {
            margin: 3rem 0;
            padding: 2rem;
            background: white;
            border-radius: 2px;
            box-shadow: 0 1px 6px var(--shadow);
            border-left: 3px solid var(--bronze);
        }
        
        h2 {
            font-family: var(--serif);
            font-size: 2rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            color: var(--stone);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            border-bottom: 2px solid var(--bronze);
            padding-bottom: 0.5rem;
        }
        
        h3 {
            font-family: var(--serif);
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem;
            color: var(--olive);
        }
        
        h4 {
            font-family: var(--serif);
            font-size: 1.1rem;
            margin: 1rem 0 0.5rem;
            color: var(--stone);
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
            padding: 2rem;
            background: var(--marble);
            border-radius: 2px;
        }
        
        .tech-item {
            text-align: center;
        }
        
        .tech-item a {
            text-decoration: none;
            color: inherit;
            display: block;
            transition: transform 0.3s ease;
        }
        
        .tech-item a:hover {
            transform: translateY(-3px);
        }
        
        .tech-item img {
            height: 60px;
            width: auto;
            margin-bottom: 0.5rem;
            filter: grayscale(20%);
            transition: filter 0.3s ease;
        }
        
        .tech-item a:hover img {
            filter: grayscale(0%);
        }
        
        .tech-item span {
            display: block;
            font-size: 0.9rem;
            color: var(--stone);
            opacity: 0.8;
        }
        
        pre {
            background: var(--stone);
            color: var(--marble);
            padding: 1.5rem;
            border-radius: 2px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            border-left: 4px solid var(--bronze);
            line-height: 1.5;
            position: relative;
        }
        
        .code-block {
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--bronze);
            color: var(--marble);
            border: none;
            padding: 0.4rem 0.6rem;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.8rem;
            opacity: 0.8;
            transition: all 0.3s ease;
            font-family: var(--sans);
        }
        
        .copy-button:hover {
            opacity: 1;
            transform: translateY(-1px);
        }
        
        .copy-button.copied {
            background: var(--olive);
        }
        
        .copy-button::before {
            content: 'üìã';
            margin-right: 0.3rem;
        }
        
        .copy-button.copied::before {
            content: '‚úì';
        }
        
        code {
            background: var(--stone);
            color: var(--marble);
            padding: 0.2rem 0.4rem;
            border-radius: 2px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        .endpoint-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .endpoint-card {
            background: var(--marble);
            padding: 1.5rem;
            border-radius: 2px;
            border-left: 3px solid var(--olive);
        }
        
        .endpoint-card h4 {
            font-family: var(--serif);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--stone);
        }
        
        .endpoint-card code {
            display: block;
            margin: 0.5rem 0;
            background: var(--stone);
            color: var(--bronze);
            padding: 0.4rem 0.6rem;
        }
        
        .endpoint-card p {
            font-size: 0.9rem;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            background: var(--stone);
            color: var(--marble);
            margin-top: 4rem;
            border-top: 4px solid var(--bronze);
        }
        
        footer a {
            color: var(--bronze);
            text-decoration: none;
            font-weight: 600;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        .pillar {
            display: inline-block;
            width: 4px;
            height: 20px;
            background: var(--bronze);
            margin: 0 0.5rem;
            vertical-align: middle;
        }
        
        .highlight {
            background: linear-gradient(180deg, transparent 60%, rgba(205, 127, 50, 0.2) 60%);
            font-weight: 600;
        }
        
        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 0.6rem 1.2rem;
            background: var(--marble);
            color: var(--stone);
            text-decoration: none;
            border-radius: 2px;
            border: 2px solid var(--bronze);
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .github-link:hover {
            background: var(--bronze);
            color: var(--marble);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow);
        }
        
        .github-icon {
            width: 24px;
            height: 24px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.9rem;
        }
        
        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: var(--stone);
            color: var(--marble);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.8rem;
        }
        
        tbody tr:hover {
            background: var(--marble);
        }
        
        .metric-good {
            color: var(--olive);
            font-weight: 600;
        }
        
        .metric-bad {
            color: #a63c3c;
            font-weight: 600;
        }
        
        .metric-neutral {
            color: #888;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .banner-content {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .banner-text {
                font-size: 0.9rem;
                text-align: center;
            }
            
            .container {
                padding: 1rem;
            }
            
            section {
                padding: 1.5rem;
                margin: 2rem 0;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            h3 {
                font-size: 1.2rem;
            }
            
            .tech-stack {
                grid-template-columns: repeat(3, 1fr);
                gap: 1.5rem;
                padding: 1.5rem;
            }
            
            .tech-item img {
                height: 50px;
            }
            
            .tech-item span {
                font-size: 0.8rem;
            }
            
            .endpoint-grid {
                grid-template-columns: 1fr;
            }
            
            pre {
                font-size: 0.8rem;
                padding: 1rem;
                padding-top: 2.5rem;
                overflow-x: auto;
            }
            
            .copy-button {
                font-size: 0.75rem;
                padding: 0.3rem 0.5rem;
            }
            
            table {
                font-size: 0.8rem;
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            th, td {
                padding: 0.5rem;
            }
            
            th {
                font-size: 0.75rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
                letter-spacing: 0.05em;
            }
            
            .pillar {
                height: 15px;
                width: 3px;
            }
            
            .tech-stack {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                padding: 1rem;
            }
            
            .tech-item img {
                height: 40px;
            }
            
            .banner-cta {
                padding: 0.4rem 1.2rem;
                font-size: 0.9rem;
            }
            
            pre {
                font-size: 0.75rem;
                padding: 0.75rem;
                padding-top: 2.5rem;
            }
            
            .copy-button {
                font-size: 0.7rem;
                padding: 0.25rem 0.4rem;
            }
            
            code {
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="consultation-banner">
        <div class="banner-content">
            <span class="banner-text">Need solutions consulting for your document processing pipeline?</span>
            <a href="https://eden.yeetum.com" class="banner-cta" target="_blank" rel="noopener noreferrer">Inquire at Eden Advisory</a>
            <span class="banner-divider">or</span>
            <a href="https://github.com/tobalo/ilios" target="_blank" rel="noopener noreferrer" class="banner-link">Setup Your Own ‚Üí</a>
        </div>
    </div>
    
    <header>
        <h1><span class="pillar"></span>ŒôŒõŒôŒüŒ£<span class="pillar"></span></h1>
        <p class="subtitle">Cleanse Dark Data for the AI Age</p>
        <a href="https://github.com/tobalo/ilios" target="_blank" rel="noopener noreferrer" class="github-link">
            <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
            </svg>
            View on GitHub
        </a>
    </header>

    <div class="container">
        <section>
            <h2>What is Ilios?</h2>
            <p>
                <strong>Ilios</strong> (·ººŒªŒπŒøœÇ) ‚Äî ancient Greek for <em>"to cleanse"</em> ‚Äî is a high-performance document-to-markdown 
                conversion API that <span class="highlight">unlocks dark data trapped in documents</span>. 
            </p>
            <p style="margin-top: 1rem;">
                Most organizational data sits inaccessible in PDFs, images, and legacy formats ‚Äî invisible to modern AI systems. 
                Before you can leverage <strong>vector databases</strong>, <strong>knowledge graphs</strong>, or <strong>RAG systems</strong>, 
                your documents must be transformed into clean, structured markdown suitable for embeddings and ontological analysis.
            </p>
            <p style="margin-top: 1rem;">
                Ilios solves this critical infrastructure gap by providing <strong>production-grade OCR</strong> powered by 
                <strong>Mistral AI</strong>, running on the <strong>Bun runtime</strong> with native APIs for 2-10x faster file operations.
            </p>
            
            <h3>Features</h3>
            <ul style="list-style: none; padding-left: 0;">
                <li style="padding: 0.5rem 0;">‚ö° <strong>2-10x Faster</strong> - Bun native APIs for optimal file I/O</li>
                <li style="padding: 0.5rem 0;">üîÑ <strong>Dual Processing Modes</strong> - Immediate or async batch conversion</li>
                <li style="padding: 0.5rem 0;">üßπ <strong>Dark Data Liberation</strong> - Extract text from PDFs, images, scans</li>
                <li style="padding: 0.5rem 0;">üéØ <strong>AI Pipeline Ready</strong> - Markdown optimized for embeddings & RAG</li>
                <li style="padding: 0.5rem 0;">üìä <strong>Usage Tracking</strong> - Built-in token and cost monitoring</li>
                <li style="padding: 0.5rem 0;">üóÑÔ∏è <strong>Local-First Database</strong> - SQLite with optional Turso sync</li>
                <li style="padding: 0.5rem 0;">‚òÅÔ∏è <strong>S3 Compatible</strong> - Works with any S3-compatible storage</li>
                <li style="padding: 0.5rem 0;">üîí <strong>Production Ready</strong> - API auth, retries, configurable retention</li>
                <li style="padding: 0.5rem 0;">üì¶ <strong>Self-Hosted</strong> - Full data control and infrastructure ownership</li>
                <li style="padding: 0.5rem 0;">üìñ <strong>OpenAPI Docs</strong> - Complete API reference at <code>/docs</code></li>
            </ul>
            
            <div class="tech-stack">
                <div class="tech-item">
                    <a href="https://bun.sh" target="_blank" rel="noopener noreferrer">
                        <img src="/images/bun.svg" alt="Bun">
                        <span>Bun Runtime</span>
                    </a>
                </div>
                <div class="tech-item">
                    <a href="https://hono.dev" target="_blank" rel="noopener noreferrer">
                        <img src="/images/hono.svg" alt="Hono">
                        <span>Hono Framework</span>
                    </a>
                </div>
                <div class="tech-item">
                    <a href="https://mistral.ai" target="_blank" rel="noopener noreferrer">
                        <img src="/images/mistral.svg" alt="Mistral AI">
                        <span>Mistral AI OCR</span>
                    </a>
                </div>
                <div class="tech-item">
                    <a href="https://turso.tech" target="_blank" rel="noopener noreferrer">
                        <img src="/images/turso.svg" alt="Turso">
                        <span>Turso DB</span>
                    </a>
                </div>
                <div class="tech-item">
                    <a href="https://www.tigrisdata.com" target="_blank" rel="noopener noreferrer">
                        <img src="/images/tigris.svg" alt="Tigris">
                        <span>Tigris S3</span>
                    </a>
                </div>
                <div class="tech-item">
                    <a href="https://www.typescriptlang.org" target="_blank" rel="noopener noreferrer">
                        <img src="/images/typescript.svg" alt="TypeScript">
                        <span>TypeScript</span>
                    </a>
                </div>
            </div>
        </section>

        <section id="installation">
            <h2>Installation</h2>
            <p>Deploy your own Ilios instance in under 60 seconds:</p>
            
            <div class="code-block">
                <button class="copy-button" onclick="copyCode(this)">Copy</button>
                <pre><code>git clone https://github.com/tobalo/ilios.git
cd ilios
bun install
bun run db:push
bun run dev</code></pre>
            </div>
            
            <p style="margin-top: 1rem;">
                Configure environment variables in <code>.env</code> based on <code>.env.example</code>. 
                The API will be available at <code>http://localhost:1337</code>.
            </p>
        </section>
        <section>
            <h2>Why Ilios Matters</h2>
            <p>
                Modern AI infrastructure demands clean, structured data. Yet <strong>80% of enterprise data</strong> remains 
                trapped in unstructured formats ‚Äî PDFs, scanned documents, legacy archives.
            </p>
            
            <h3>The Dark Data Problem</h3>
            <p>
                Before you can:
            </p>
            <ul style="margin-left: 2rem; margin-top: 0.5rem; margin-bottom: 1rem;">
                <li>Generate embeddings for <strong>vector search</strong></li>
                <li>Build <strong>knowledge graphs</strong> with ontological relationships</li>
                <li>Power <strong>RAG systems</strong> with retrieval-augmented generation</li>
                <li>Enable <strong>semantic analysis</strong> and entity extraction</li>
            </ul>
            <p>
                ...you must first <span class="highlight">cleanse your documents</span> into machine-readable formats.
            </p>
            
            <h3>How Ilios Enables AI Readiness</h3>
            <p style="margin-top: 1rem;">
                <strong>1. Document Ingestion</strong> ‚Üí Upload PDFs, images, or legacy formats<br>
                <strong>2. OCR Processing</strong> ‚Üí Mistral AI extracts text with layout awareness<br>
                <strong>3. Markdown Output</strong> ‚Üí Clean, structured format ready for downstream processing<br>
                <strong>4. Vector Pipeline</strong> ‚Üí Feed to embedding models, chunk for RAG, or enrich for knowledge graphs
            </p>
        </section>

        <section>
            <h2>API Usage</h2>
            <p>Ilios provides both immediate and asynchronous processing:</p>
            
            <div class="endpoint-grid">
                <div class="endpoint-card">
                    <h4>Immediate Conversion</h4>
                    <code>POST /v1/convert</code>
                    <p>
                        Synchronous OCR. Returns markdown instantly. Optimized for files &lt;100MB with 
                        in-memory processing. Perfect for real-time workflows.
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Document Submit</h4>
                    <code>POST /api/documents/submit</code>
                    <p>
                        Upload a document for async OCR processing. Returns document ID for status tracking.
                        Supports files up to 1GB.
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Document Status</h4>
                    <code>GET /api/documents/status/:id</code>
                    <p>
                        Check processing status of a submitted document. Returns progress and metadata.
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Retrieve Document</h4>
                    <code>GET /api/documents/:id</code>
                    <p>
                        Get processed document content as JSON or markdown. Query param: ?format=markdown
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Batch Submit</h4>
                    <code>POST /v1/batch/submit</code>
                    <p>
                        Asynchronous batch processing. Submit up to 100 files (1GB each). 
                        Returns batch ID for progress tracking.
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Batch Status</h4>
                    <code>GET /v1/batch/status/:batchId</code>
                    <p>
                        Track batch progress with detailed metrics: pending, processing, completed, and failed counts.
                    </p>
                </div>
                
                <div class="endpoint-card">
                    <h4>Batch Download</h4>
                    <code>GET /v1/batch/download/:batchId</code>
                    <p>
                        Download all results in JSONL format. Each line contains document metadata and markdown content.
                    </p>
                </div>
            </div>
            
            <h3>Quick Examples</h3>
            
            <h4>Convert a Single Document</h4>
            <div class="code-block">
                <button class="copy-button" onclick="copyCode(this)">Copy</button>
                <pre><code>curl -X POST http://localhost:1337/v1/convert \
  -F "file=@contract.pdf" \
  -F "format=markdown" \
  -H "X-API-Key: your-api-key"</code></pre>
            </div>
            
            <h4>Batch Processing</h4>
            <div class="code-block">
                <button class="copy-button" onclick="copyCode(this)">Copy</button>
                <pre><code>curl -X POST http://localhost:1337/v1/batch/submit \
  -F "files=@doc1.pdf" \
  -F "files=@doc2.pdf" \
  -F "priority=8" \
  -H "X-API-Key: your-api-key"</code></pre>
            </div>
            
            <h4>Check Status</h4>
            <div class="code-block">
                <button class="copy-button" onclick="copyCode(this)">Copy</button>
                <pre><code>curl http://localhost:1337/v1/batch/status/batch_abc123 \
  -H "X-API-Key: your-api-key"</code></pre>
            </div>
        </section>
        <section>
            <h2>Performance Benchmarks</h2>
            <p>Real-world performance metrics from production workloads. Last updated: <span id="benchmark-timestamp"></span></p>
            
            <div id="benchmark-tables"></div>
        </section>
    </div>

    <footer>
        <p>
            <strong>Ilios</strong> is open-source software. 
            <a href="https://github.com/tobalo/ilios" target="_blank">View on GitHub</a>
        </p>
        <p style="margin-top: 0.5rem; opacity: 0.8; font-size: 0.9rem;">
            Built with Bun, Hono, Mistral AI ¬∑ Cleansing dark data since 2024
        </p>
    </footer>

    <script>
        function copyCode(button) {
            const codeBlock = button.nextElementSibling;
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                button.textContent = 'Failed';
                setTimeout(() => {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }
        
        async function loadBenchmarks() {
            try {
                const response = await fetch('/benchmarks/latest_results.json');
                const data = await response.json();
                
                const timestampEl = document.getElementById('benchmark-timestamp');
                const date = new Date(data.timestamp * 1000);
                timestampEl.textContent = date.toLocaleString();
                
                const container = document.getElementById('benchmark-tables');
                
                data.results.forEach(result => {
                    const section = document.createElement('div');
                    section.style.marginBottom = '3rem';
                    
                    const title = document.createElement('h3');
                    title.textContent = `${result.endpoint} - ${result.operation}`;
                    section.appendChild(title);
                    
                    const summaryTable = document.createElement('table');
                    summaryTable.innerHTML = `
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Total Requests</td>
                                <td>${result.total_requests}</td>
                            </tr>
                            <tr>
                                <td>Success Rate</td>
                                <td class="${result.successful_requests === result.total_requests ? 'metric-good' : 'metric-bad'}">
                                    ${((result.successful_requests / result.total_requests) * 100).toFixed(1)}% 
                                    (${result.successful_requests}/${result.total_requests})
                                </td>
                            </tr>
                            <tr>
                                <td>Total Time</td>
                                <td>${result.total_time_seconds.toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>Requests/Second</td>
                                <td>${result.requests_per_second.toFixed(4)}</td>
                            </tr>
                            <tr>
                                <td>Avg Latency</td>
                                <td>${(result.avg_latency_ms / 1000).toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>Min/Max Latency</td>
                                <td>${(result.min_latency_ms / 1000).toFixed(2)}s / ${(result.max_latency_ms / 1000).toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>P50 Latency</td>
                                <td>${(result.p50_latency_ms / 1000).toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>P95 Latency</td>
                                <td>${(result.p95_latency_ms / 1000).toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>P99 Latency</td>
                                <td>${(result.p99_latency_ms / 1000).toFixed(2)}s</td>
                            </tr>
                            <tr>
                                <td>Throughput</td>
                                <td>${result.throughput_mb_per_second.toFixed(2)} MB/s</td>
                            </tr>
                            <tr>
                                <td>Error Count</td>
                                <td class="${result.error_count === 0 ? 'metric-good' : 'metric-bad'}">${result.error_count}</td>
                            </tr>
                        </tbody>
                    `;
                    section.appendChild(summaryTable);
                    
                    if (result.size_breakdown) {
                        const breakdownTitle = document.createElement('h4');
                        breakdownTitle.textContent = 'Size Breakdown';
                        breakdownTitle.style.marginTop = '1.5rem';
                        section.appendChild(breakdownTitle);
                        
                        const breakdownTable = document.createElement('table');
                        let breakdownRows = '<thead><tr><th>Size Category</th><th>Count</th><th>Avg Latency</th><th>Min/Max</th><th>Avg Pages</th><th>Total Pages</th></tr></thead><tbody>';
                        
                        for (const [category, stats] of Object.entries(result.size_breakdown)) {
                            breakdownRows += `
                                <tr>
                                    <td><strong>${category.toUpperCase()}</strong></td>
                                    <td>${stats.count}</td>
                                    <td>${(stats.avg_latency_ms / 1000).toFixed(2)}s</td>
                                    <td>${(stats.min_latency_ms / 1000).toFixed(2)}s / ${(stats.max_latency_ms / 1000).toFixed(2)}s</td>
                                    <td>${stats.avg_pages !== null ? stats.avg_pages.toFixed(1) : '<span class="metric-neutral">N/A</span>'}</td>
                                    <td>${stats.total_pages !== null ? stats.total_pages : '<span class="metric-neutral">N/A</span>'}</td>
                                </tr>
                            `;
                        }
                        
                        breakdownRows += '</tbody>';
                        breakdownTable.innerHTML = breakdownRows;
                        section.appendChild(breakdownTable);
                    }
                    
                    if (result.documents && result.documents.length > 0) {
                        const docsTitle = document.createElement('h4');
                        docsTitle.textContent = 'Document Processing Details';
                        docsTitle.style.marginTop = '1.5rem';
                        section.appendChild(docsTitle);
                        
                        const docsTable = document.createElement('table');
                        let docsRows = '<thead><tr><th>Document</th><th>Size (MB)</th><th>Category</th><th>Latency</th><th>Pages</th><th>Processing Time</th><th>Tokens</th><th>Status</th></tr></thead><tbody>';
                        
                        result.documents.forEach(doc => {
                            docsRows += `
                                <tr>
                                    <td>${doc.file_name}</td>
                                    <td>${doc.file_size_mb.toFixed(2)}</td>
                                    <td>${doc.size_category}</td>
                                    <td>${doc.latency_ms ? (doc.latency_ms / 1000).toFixed(2) + 's' : '<span class="metric-neutral">N/A</span>'}</td>
                                    <td>${doc.pages !== null ? doc.pages : '<span class="metric-neutral">N/A</span>'}</td>
                                    <td>${doc.processing_time_ms !== null ? (doc.processing_time_ms / 1000).toFixed(2) + 's' : '<span class="metric-neutral">N/A</span>'}</td>
                                    <td>${doc.tokens_used !== null ? doc.tokens_used.toLocaleString() : '<span class="metric-neutral">N/A</span>'}</td>
                                    <td class="${doc.success ? 'metric-good' : 'metric-bad'}">
                                        ${doc.success ? '‚úì Success' : '‚úó Failed'}
                                    </td>
                                </tr>
                            `;
                        });
                        
                        docsRows += '</tbody>';
                        docsTable.innerHTML = docsRows;
                        section.appendChild(docsTable);
                    }
                    
                    container.appendChild(section);
                });
            } catch (error) {
                console.error('Failed to load benchmarks:', error);
                document.getElementById('benchmark-tables').innerHTML = 
                    '<p class="metric-bad">Failed to load benchmark data. Please try again later.</p>';
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadBenchmarks);
    </script>
</body>
</html>
